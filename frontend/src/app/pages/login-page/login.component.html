<div class="progress-spinner" *ngIf="isProgressSpinnerVisible">
  <p-progressSpinner></p-progressSpinner>
</div>

<p-card
  header="Login"
  styleClass="pCardStyle shadow-2">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="p-field">
      <label for="email-input" class="field-label">
        <p class="required">Email</p>
      </label>
      <span class="p-input-icon-left">
        <i class="pi pi-user"></i>
        <input
          id="email-input"
          type="text"
          formControlName="email"
          pInputText
          [ngClass]="{
            'ng-invalid ng-dirty': isInputInvalidAndTouchedOrDirty('email')
          }"
          placeholder="Email" />
      </span>
      <small class="p-error" *ngIf="isInputTouchedOrDirtyAndEmpty('email'); else invalidEmailFormatMessage">
        This field is required
      </small>
      <ng-template #invalidEmailFormatMessage>
        <small class="p-error" *ngIf="isEmailInputTouchedOrDirtyAndNotValidEmail()">
          Please enter valid email address
        </small>
      </ng-template>
    </div>
    <div class="p-field">
      <label for="password-input" class="field-label">
        <p class="required">Password</p>
      </label>
      <span class="p-input-icon-left p-input-icon-right">
        <i class="pi pi-lock"></i>
        <i class="pi {{ this.passwordEyeIcon }}" (click)="hideShowPassword()"></i>
        <input
          pInputText
          [type]="passwordInputType"
          id="password-input"
          formControlName="password"
          [ngClass]="{
            'ng-invalid ng-dirty': isInputInvalidAndTouchedOrDirty('password')
          }"
          placeholder="Password"/>
      </span>
      <small class="p-error" *ngIf="isInputInvalidAndTouchedOrDirty('password')">
        This field is required
      </small>
    </div>
    <p-button type="submit" class="flex justify-content-end" label="Login" icon="pi pi-check"></p-button>
  </form>
</p-card>
